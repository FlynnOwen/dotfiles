#!/usr/bin/env bash

# First argument is the operating system
os="$1"

# Install packages
if [ "$os" == 'mac' ];
then 
    # zsh
    arch -arm64 brew install zsh
    chsh -s /bin/zsh
    arch -arm64 brew install zsh-completions
    
    # starship
    arch -arm64 brew install starship

    # alacritty
    sudo port install alacritty

    # neofetch
    arch -arm64 brew install neofetch
elif [ "$os" == 'ubuntu' ];
then
    # zsh
    apt install zsh
    
    # starship
    curl -sS https://starship.rs/install.sh | sh

    # alacritty
    sudo add-apt-repository ppa:aslatter/ppa
    sudo apt install alacritty

    # neofetch
    sudo apt install neofetch
fi

# config files
mkdir -p ~/.config

# Copy config
ln -f -s $PWD/.config/neofetch ~/.config
ln -f -s $PWD/.config/alacritty ~/.config
ln -f -s $PWD/.config/starship.toml ~/.config/starship.toml
